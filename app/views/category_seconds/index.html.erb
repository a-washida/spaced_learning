<%= render 'shared/header' %>
<div class="cs-index-main">
  <div class="cs-index__category-first-text">カテゴリー1</div>
  <%= collection_select(:select, :category_first_id, CategoryFirst.all, :id, :name, {include_blank: "選択してください"}, {class:"cs-index__category-first"}) %>
  <div class="cs-index__category-second-text">カテゴリー2</div>
  <div class="cs-index__please-select">カテゴリー1を選択してください</div>
  <% CategoryFirst.all.each_with_index do |category_first, i| %>
    <% category_second_array = CategorySecond.where(category_first_id: i + 1).map.with_index(1) { |category_second, index| [category_second.name, index, {'data-id': category_second.id}] } %>
    <%= select :select, :category_second_id, options_for_select(category_second_array), {include_blank: "選択してください"}, {class:"cs-index__category-second num-#{i}"} %>
  <% end %>
  <% @category_seconds.each_with_index do |category_second, i| %>
    <%= link_to '実行', category_second_shares_path(category_second), class: "cs-index__link num-#{category_second.id}" %>
  <% end %>
<div>